<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Ratio Analysis Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        h2 {
            font-size: 22px;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        h3 {
            font-size: 20px;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .view {
            display: none;
            padding: 25px;
        }
        
        .active-view {
            display: block;
        }
        
        .btn {
            background: #4b6cb7;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            margin: 10px 5px;
        }
        
        .btn:hover {
            background: #3a5795;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #6c757d;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .btn-success {
            background: #28a745;
        }
        
        .btn-success:hover {
            background: #218838;
        }
        
        .btn-danger {
            background: #dc3545;
        }
        
        .btn-danger:hover {
            background: #bd2130;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #4b6cb7;
            box-shadow: 0 0 8px rgba(75, 108, 183, 0.3);
        }
        
        .quiz-question {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #4b6cb7;
        }
        
        .quiz-question p {
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 18px;
            color: #1a2a6c;
        }
        
        .option-line {
            display: block;
            padding: 12px;
            margin: 8px 0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #e0e0e0;
        }
        
        .option-line:hover {
            background: #f0f4ff;
            transform: translateX(5px);
        }
        
        .progress-bar {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: #4b6cb7;
            transition: width 0.3s;
        }
        
        .question-counter {
            text-align: right;
            font-size: 16px;
            color: #6c757d;
            margin-bottom: 15px;
        }
        
        .timer {
            font-size: 20px;
            font-weight: bold;
            color: #dc3545;
            text-align: center;
            margin: 15px 0;
        }
        
        .result-message {
            text-align: center;
            font-size: 20px;
            font-weight: 600;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
        }
        
        .correct {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        
        .incorrect {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        
        .welcome-section {
            text-align: center;
            padding: 20px;
            background: #e3f2fd;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #1a2a6c;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            text-align: center;
        }
        
        .stat-card h4 {
            margin-top: 0;
            color: #6c757d;
            font-size: 16px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #4b6cb7;
        }
        
        .formula {
            font-family: 'Courier New', Courier, monospace;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 3px solid #4b6cb7;
            font-size: 14px;
        }
        
        @media (max-width: 600px) {
            .container {
                border-radius: 10px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            h2 {
                font-size: 20px;
            }
            
            .view {
                padding: 15px;
            }
            
            .btn {
                padding: 10px 15px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Financial Ratio Analysis Quiz</h1>
            <p>Based on FTX1005 FRA Lecture Slides</p>
        </header>

        <!-- Login View -->
        <div id="loginView" class="view active-view">
            <div class="welcome-section">
                <h2>Welcome to the Financial Ratio Analysis Quiz</h2>
                <p>Test your knowledge of financial ratios and analysis techniques</p>
            </div>
            
            <div class="form-group">
                <label for="studentName">Your Name</label>
                <input type="text" id="studentName" class="form-control" placeholder="Enter your name">
            </div>
            
            <div class="form-group">
                <label for="studentId">Student ID (optional)</label>
                <input type="text" id="studentId" class="form-control" placeholder="Enter your student ID">
            </div>
            
            <button id="startQuizBtn" class="btn">Start Quiz</button>
        </div>

        <!-- Quiz View -->
        <div id="quizView" class="view">
            <h2>Financial Ratio Analysis Quiz</h2>
            <div class="timer" id="quizTimer">Time: 15:00</div>
            <div class="progress-bar">
                <div class="progress" id="quizProgress"></div>
            </div>
            <div class="question-counter" id="questionCounter">Question 1 of 15</div>
            
            <form id="quizForm">
                <!-- Questions will be populated here -->
            </form>
            
            <button id="submitQuizBtn" class="btn btn-success">Submit Quiz</button>
            <div id="quizResult" class="result-message"></div>
        </div>

        <!-- Results View -->
        <div id="resultsView" class="view">
            <h2>Your Quiz Results</h2>
            <div class="stats-container">
                <div class="stat-card">
                    <h4>Score</h4>
                    <div class="stat-value" id="finalScore">0/15</div>
                </div>
                <div class="stat-card">
                    <h4>Percentage</h4>
                    <div class="stat-value" id="percentage">0%</div>
                </div>
                <div class="stat-card">
                    <h4>Time Taken</h4>
                    <div class="stat-value" id="timeTaken">0:00</div>
                </div>
            </div>
            
            <div id="reviewQuestions">
                <!-- Questions review will be populated here -->
            </div>
            
            <button id="restartQuizBtn" class="btn">Take Quiz Again</button>
        </div>
    </div>

    <script>
        // Quiz questions for Financial Ratio Analysis
        const fraQuizQuestions = [
            {
                question: "What is the primary purpose of financial statement analysis?",
                options: [
                    "A. To assess the firm's current liquidity position",
                    "B. To predict potential bankruptcy",
                    "C. To evaluate operational efficiency",
                    "D. All of the above"
                ],
                correctAnswer: "D",
                explanation: "Financial statement analysis serves multiple purposes including assessing liquidity, predicting bankruptcy, and evaluating operational efficiency."
            },
            {
                question: "Which ratio measures a company's ability to pay short-term obligations without relying on inventory sales?",
                options: [
                    "A. Current ratio",
                    "B. Debt to equity ratio",
                    "C. Acid test ratio",
                    "D. Inventory turnover ratio"
                ],
                correctAnswer: "C",
                explanation: "The acid test ratio (quick ratio) measures a company's ability to meet short-term obligations with its most liquid assets, excluding inventory."
            },
            {
                question: "What does the Debt to Equity ratio indicate?",
                options: [
                    "A. The percentage of assets financed by debt",
                    "B. The relationship between interest expense and operating profit",
                    "C. The proportion of debt and equity used to finance assets",
                    "D. The company's ability to pay dividends"
                ],
                correctAnswer: "C",
                explanation: "The Debt to Equity ratio shows the relative proportion of shareholders' equity and debt used to finance a company's assets."
            },
            {
                question: "How is Return on Equity (ROE) calculated?",
                options: [
                    "A. Net Profit After Tax / Total Assets",
                    "B. Net Profit After Tax / Shareholders' Equity",
                    "C. Operating Profit / Revenue",
                    "D. Gross Profit / Revenue"
                ],
                correctAnswer: "B",
                explanation: "ROE = Net Profit After Tax / Shareholders' Equity. It measures the return generated on shareholders' investments."
            },
            {
                question: "Which ratio would be most important to a short-term creditor?",
                options: [
                    "A. Debt to equity ratio",
                    "B. Current ratio",
                    "C. Price earnings ratio",
                    "D. Return on assets"
                ],
                correctAnswer: "B",
                explanation: "Short-term creditors are most concerned with a company's ability to pay short-term obligations, which is measured by the current ratio."
            },
            {
                question: "What does the Price Earnings (P/E) ratio measure?",
                options: [
                    "A. The relationship between market price and earnings per share",
                    "B. The dividend paying capability of the firm",
                    "C. The efficiency of asset utilization",
                    "D. The proportion of debt in the capital structure"
                ],
                correctAnswer: "A",
                explanation: "The P/E ratio relates a company's share price to its earnings per share, indicating how much investors are willing to pay per dollar of earnings."
            },
            {
                question: "Which of the following is a liquidity ratio?",
                options: [
                    "A. Gross profit margin",
                    "B. Inventory turnover",
                    "C. Acid test ratio",
                    "D. Return on equity"
                ],
                correctAnswer: "C",
                explanation: "The acid test ratio is a liquidity ratio that measures a company's ability to meet short-term obligations with quick assets."
            },
            {
                question: "What does an increasing accounts receivable collection period indicate?",
                options: [
                    "A. Improved efficiency in collecting debts",
                    "B. Potential issues with credit policies or collections",
                    "C. Decreased sales",
                    "D. Better inventory management"
                ],
                correctAnswer: "B",
                explanation: "An increasing collection period may indicate problems with credit policies, collection efforts, or customers' ability to pay."
            },
            {
                question: "How is the current ratio calculated?",
                options: [
                    "A. Current assets / Current liabilities",
                    "B. Total assets / Total liabilities",
                    "C. Current assets / Total liabilities",
                    "D. Cash / Current liabilities"
                ],
                correctAnswer: "A",
                explanation: "Current ratio = Current Assets / Current Liabilities. It measures a company's ability to pay short-term obligations."
            },
            {
                question: "Which ratio measures how efficiently a company uses its assets to generate sales?",
                options: [
                    "A. Current ratio",
                    "B. Debt ratio",
                    "C. Asset turnover ratio",
                    "D. Net profit margin"
                ],
                correctAnswer: "C",
                explanation: "The asset turnover ratio measures how efficiently a company uses its assets to generate sales revenue."
            },
            {
                question: "What does the Times Interest Earned ratio measure?",
                options: [
                    "A. The company's ability to pay interest from operating profits",
                    "B. The relationship between debt and equity",
                    "C. The efficiency of inventory management",
                    "D. The return on shareholders' investment"
                ],
                correctAnswer: "A",
                explanation: "Times Interest Earned = EBIT / Interest Expense. It measures a company's ability to meet its interest obligations from operating profits."
            },
            {
                question: "Which of the following is a profitability ratio?",
                options: [
                    "A. Current ratio",
                    "B. Inventory turnover",
                    "C. Gross profit margin",
                    "D. Accounts payable days"
                ],
                correctAnswer: "C",
                explanation: "Gross profit margin is a profitability ratio that shows the percentage of revenue that exceeds the cost of goods sold."
            },
            {
                question: "What does a high dividend cover ratio indicate?",
                options: [
                    "A. The company pays out most of its earnings as dividends",
                    "B. The company retains a large portion of earnings for growth",
                    "C. The company has liquidity problems",
                    "D. The company has high debt levels"
                ],
                correctAnswer: "B",
                explanation: "A high dividend cover ratio indicates that earnings are significantly higher than dividends paid, allowing the company to retain earnings for growth."
            },
            {
                question: "Which ratio would be most important to a long-term investor?",
                options: [
                    "A. Current ratio",
                    "B. Acid test ratio",
                    "C. Return on equity",
                    "D. Inventory turnover"
                ],
                correctAnswer: "C",
                explanation: "Long-term investors are most concerned with the return on their investment, which is measured by return on equity."
            },
            {
                question: "What does the accounts payable payment period measure?",
                options: [
                    "A. How quickly the company pays its suppliers",
                    "B. How quickly the company collects from customers",
                    "C. How quickly inventory is sold",
                    "D. How efficiently assets are used"
                ],
                correctAnswer: "A",
                explanation: "The accounts payable payment period measures the average number of days a company takes to pay its suppliers."
            }
        ];

        // Global state
        let currentQuestion = 0;
        let score = 0;
        let userAnswers = [];
        let quizTimer;
        let timeLeft = 900; // 15 minutes in seconds
        let startTime;

        // DOM Elements
        const loginView = document.getElementById('loginView');
        const quizView = document.getElementById('quizView');
        const resultsView = document.getElementById('resultsView');
        const quizForm = document.getElementById('quizForm');
        const quizProgress = document.getElementById('quizProgress');
        const questionCounter = document.getElementById('questionCounter');
        const quizTimerElement = document.getElementById('quizTimer');
        const quizResult = document.getElementById('quizResult');
        const finalScore = document.getElementById('finalScore');
        const percentage = document.getElementById('percentage');
        const timeTaken = document.getElementById('timeTaken');
        const reviewQuestions = document.getElementById('reviewQuestions');
        const startQuizBtn = document.getElementById('startQuizBtn');
        const submitQuizBtn = document.getElementById('submitQuizBtn');
        const restartQuizBtn = document.getElementById('restartQuizBtn');

        // Initialize the quiz
        function initQuiz() {
            startQuizBtn.addEventListener('click', startQuiz);
            submitQuizBtn.addEventListener('click', submitQuiz);
            restartQuizBtn.addEventListener('click', restartQuiz);
        }

        // Start the quiz
        function startQuiz() {
            const studentName = document.getElementById('studentName').value;
            if (!studentName) {
                alert('Please enter your name to continue.');
                return;
            }
            
            loginView.classList.remove('active-view');
            quizView.classList.add('active-view');
            
            startTime = new Date();
            loadQuestion();
            startTimer();
        }

        // Load a question
        function loadQuestion() {
            const question = fraQuizQuestions[currentQuestion];
            
            quizForm.innerHTML = `
                <div class="quiz-question">
                    <p>${currentQuestion + 1}. ${question.question}</p>
                    ${question.options.map(option => `
                        <label class="option-line">
                            <input type="radio" name="answer" value="${option.charAt(0)}" required> ${option}
                        </label>
                    `).join('')}
                </div>
            `;
            
            // If user has already answered this question, select the option
            if (userAnswers[currentQuestion] !== undefined) {
                document.querySelector(`input[name="answer"][value="${userAnswers[currentQuestion]}"]`).checked = true;
            }
            
            updateProgressBar();
        }

        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentQuestion + 1) / fraQuizQuestions.length) * 100;
            quizProgress.style.width = `${progress}%`;
            questionCounter.textContent = `Question ${currentQuestion + 1} of ${fraQuizQuestions.length}`;
        }

        // Start the timer
        function startTimer() {
            clearInterval(quizTimer);
            updateTimerDisplay();
            
            quizTimer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(quizTimer);
                    submitQuiz();
                }
            }, 1000);
        }

        // Update timer display
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            quizTimerElement.textContent = `Time: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        }

        // Submit the quiz
        function submitQuiz() {
            clearInterval(quizTimer);
            
            // Calculate score
            score = 0;
            for (let i = 0; i < fraQuizQuestions.length; i++) {
                if (userAnswers[i] === fraQuizQuestions[i].correctAnswer) {
                    score++;
                }
            }
            
            // Calculate percentage
            const percentageScore = Math.round((score / fraQuizQuestions.length) * 100);
            
            // Calculate time taken
            const endTime = new Date();
            const timeTakenMs = endTime - startTime;
            const timeTakenMinutes = Math.floor(timeTakenMs / 60000);
            const timeTakenSeconds = Math.floor((timeTakenMs % 60000) / 1000);
            const timeTakenStr = `${timeTakenMinutes}:${timeTakenSeconds < 10 ? '0' : ''}${timeTakenSeconds}`;
            
            // Display results
            finalScore.textContent = `${score}/${fraQuizQuestions.length}`;
            percentage.textContent = `${percentageScore}%`;
            timeTaken.textContent = timeTakenStr;
            
            // Display review questions
            reviewQuestions.innerHTML = '<h3>Question Review</h3>';
            fraQuizQuestions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correctAnswer;
                
                const questionDiv = document.createElement('div');
                questionDiv.className = `quiz-question ${isCorrect ? 'correct' : 'incorrect'}`;
                questionDiv.innerHTML = `
                    <p>${index + 1}. ${question.question}</p>
                    <p>Your answer: ${userAnswer || 'Not answered'} ${isCorrect ? '✓' : '✗'}</p>
                    <p>Correct answer: ${question.correctAnswer}</p>
                    <p class="explanation">${question.explanation}</p>
                `;
                reviewQuestions.appendChild(questionDiv);
            });
            
            // Show results view
            quizView.classList.remove('active-view');
            resultsView.classList.add('active-view');
        }

        // Restart the quiz
        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            timeLeft = 900;
            
            resultsView.classList.remove('active-view');
            loginView.classList.add('active-view');
        }

        // Event listener for radio button changes
        document.addEventListener('change', (e) => {
            if (e.target.name === 'answer') {
                userAnswers[currentQuestion] = e.target.value;
                
                // Move to next question after a short delay
                setTimeout(() => {
                    if (currentQuestion < fraQuizQuestions.length - 1) {
                        currentQuestion++;
                        loadQuestion();
                    } else {
                        // If this is the last question, enable submit button
                        submitQuizBtn.disabled = false;
                    }
                }, 500);
            }
        });

        // Initialize the quiz when the page loads
        document.addEventListener('DOMContentLoaded', initQuiz);
    </script>
</body>
</html>
